<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7.1 Prepare diabetes code dictionary | UK Biobank Phenotyping</title>
  <meta name="description" content="7.1 Prepare diabetes code dictionary | UK Biobank Phenotyping" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="7.1 Prepare diabetes code dictionary | UK Biobank Phenotyping" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7.1 Prepare diabetes code dictionary | UK Biobank Phenotyping" />
  
  
  

<meta name="author" content="Do Hyun Kim" />


<meta name="date" content="2023-01-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="7-make-outcome-specific-code-dictionary.html"/>
<link rel="next" href="7.2-prepare-diabetic-eye-disease-code-dictionary.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#generating-time-to-event-data-using-uk-biobank-data" id="toc-generating-time-to-event-data-using-uk-biobank-data">Generating time-to-event data using UK biobank data</a></li>
<li><a href="1-reformat-raw-data.html#reformat-raw-data" id="toc-reformat-raw-data"><span class="toc-section-number">1</span> Clean raw UKB assesment center data</a></li>
<li><a href="2-curate-demog-table.html#curate-demog-table" id="toc-curate-demog-table"><span class="toc-section-number">2</span> Curate demographic table</a></li>
<li><a href="3-curate-master-ukb-events-table.html#curate-master-ukb-events-table" id="toc-curate-master-ukb-events-table"><span class="toc-section-number">3</span> Curate a master UKB event table</a>
<ul>
<li><a href="3.1-first-occurrence-event-table-and-algorithmically-defined-outcome-table.html#first-occurrence-event-table-and-algorithmically-defined-outcome-table" id="toc-first-occurrence-event-table-and-algorithmically-defined-outcome-table"><span class="toc-section-number">3.1</span> First occurrence event table and algorithmically defined outcome table</a></li>
<li><a href="3.2-custom-defined-outcome-for-dr.html#custom-defined-outcome-for-dr" id="toc-custom-defined-outcome-for-dr"><span class="toc-section-number">3.2</span> Custom defined outcome for DR</a></li>
<li><a href="3.3-icd-9-10.html#icd-9-10" id="toc-icd-9-10"><span class="toc-section-number">3.3</span> ICD 9 &amp; 10</a></li>
<li><a href="3.4-opcs4.html#opcs4" id="toc-opcs4"><span class="toc-section-number">3.4</span> OPCS4</a></li>
<li><a href="3.5-self-reported-conditions.html#self-reported-conditions" id="toc-self-reported-conditions"><span class="toc-section-number">3.5</span> Self-reported conditions</a></li>
<li><a href="3.6-self-reported-operations.html#self-reported-operations" id="toc-self-reported-operations"><span class="toc-section-number">3.6</span> Self-reported operations</a></li>
<li><a href="3.7-standardize-and-merge-event-tables.html#standardize-and-merge-event-tables" id="toc-standardize-and-merge-event-tables"><span class="toc-section-number">3.7</span> Standardize and merge event tables</a></li>
<li><a href="3.8-convert-ukb-special-dates-into-normal-dates.html#convert-ukb-special-dates-into-normal-dates" id="toc-convert-ukb-special-dates-into-normal-dates"><span class="toc-section-number">3.8</span> Convert UKB special dates into “normal” dates</a></li>
</ul></li>
<li><a href="4-exclude-sex-mismatch-subjects.html#exclude-sex-mismatch-subjects" id="toc-exclude-sex-mismatch-subjects"><span class="toc-section-number">4</span> Filter out subjects with sex mismatch</a></li>
<li><a href="5-prep-pcp-data.html#prep-pcp-data" id="toc-prep-pcp-data"><span class="toc-section-number">5</span> Prepare UKB Primary Care Data</a></li>
<li><a href="6-make-code-dictionary.html#make-code-dictionary" id="toc-make-code-dictionary"><span class="toc-section-number">6</span> Create a master code dictionary for primary care data</a></li>
<li><a href="7-make-outcome-specific-code-dictionary.html#make-outcome-specific-code-dictionary" id="toc-make-outcome-specific-code-dictionary"><span class="toc-section-number">7</span> Make outcome-specific code dictionary</a>
<ul>
<li><a href="7.1-prepare-diabetes-code-dictionary.html#prepare-diabetes-code-dictionary" id="toc-prepare-diabetes-code-dictionary"><span class="toc-section-number">7.1</span> Prepare diabetes code dictionary</a>
<ul>
<li><a href="7.1-prepare-diabetes-code-dictionary.html#define-keywords" id="toc-define-keywords"><span class="toc-section-number">7.1.1</span> Define keywords</a></li>
<li><a href="7.1-prepare-diabetes-code-dictionary.html#define-codes" id="toc-define-codes"><span class="toc-section-number">7.1.2</span> Define codes</a></li>
<li><a href="7.1-prepare-diabetes-code-dictionary.html#create-diabetes-code-dictionary" id="toc-create-diabetes-code-dictionary"><span class="toc-section-number">7.1.3</span> Create diabetes code dictionary</a></li>
</ul></li>
<li><a href="7.2-prepare-diabetic-eye-disease-code-dictionary.html#prepare-diabetic-eye-disease-code-dictionary" id="toc-prepare-diabetic-eye-disease-code-dictionary"><span class="toc-section-number">7.2</span> Prepare diabetic eye disease code dictionary</a>
<ul>
<li><a href="7.2-prepare-diabetic-eye-disease-code-dictionary.html#define-keywords-1" id="toc-define-keywords-1"><span class="toc-section-number">7.2.1</span> Define keywords</a></li>
<li><a href="7.2-prepare-diabetic-eye-disease-code-dictionary.html#define-codes-1" id="toc-define-codes-1"><span class="toc-section-number">7.2.2</span> Define codes</a></li>
<li><a href="7.2-prepare-diabetic-eye-disease-code-dictionary.html#create-diabetic-eye-disease-code-dictionary" id="toc-create-diabetic-eye-disease-code-dictionary"><span class="toc-section-number">7.2.3</span> Create diabetic eye disease code dictionary</a></li>
</ul></li>
<li><a href="7.3-prepare-diabetic-kidney-disease-code-dictionary.html#prepare-diabetic-kidney-disease-code-dictionary" id="toc-prepare-diabetic-kidney-disease-code-dictionary"><span class="toc-section-number">7.3</span> Prepare diabetic kidney disease code dictionary</a>
<ul>
<li><a href="7.3-prepare-diabetic-kidney-disease-code-dictionary.html#define-keywords-2" id="toc-define-keywords-2"><span class="toc-section-number">7.3.1</span> Define Keywords</a></li>
<li><a href="7.3-prepare-diabetic-kidney-disease-code-dictionary.html#define-codes-2" id="toc-define-codes-2"><span class="toc-section-number">7.3.2</span> Define codes</a></li>
<li><a href="7.3-prepare-diabetic-kidney-disease-code-dictionary.html#create-diabetic-kidney-disease-code-dictionary" id="toc-create-diabetic-kidney-disease-code-dictionary"><span class="toc-section-number">7.3.3</span> Create diabetic kidney disease code dictionary</a></li>
</ul></li>
</ul></li>
<li><a href="8-phenotype-outcomes-ukb.html#phenotype-outcomes-ukb" id="toc-phenotype-outcomes-ukb"><span class="toc-section-number">8</span> Phenotype outcome and control exclusion events using UKB assessment center data</a>
<ul>
<li><a href="8.1-phenotype-outcomes.html#phenotype-outcomes" id="toc-phenotype-outcomes"><span class="toc-section-number">8.1</span> Phenotype outcomes</a>
<ul>
<li><a href="8.1-phenotype-outcomes.html#dm" id="toc-dm"><span class="toc-section-number">8.1.1</span> DM</a></li>
<li><a href="8.1-phenotype-outcomes.html#mi" id="toc-mi"><span class="toc-section-number">8.1.2</span> MI</a></li>
<li><a href="8.1-phenotype-outcomes.html#unstable-angina" id="toc-unstable-angina"><span class="toc-section-number">8.1.3</span> Unstable Angina</a></li>
<li><a href="8.1-phenotype-outcomes.html#ischemic-stroke" id="toc-ischemic-stroke"><span class="toc-section-number">8.1.4</span> Ischemic Stroke</a></li>
<li><a href="8.1-phenotype-outcomes.html#hemorrhagic-stroke" id="toc-hemorrhagic-stroke"><span class="toc-section-number">8.1.5</span> Hemorrhagic Stroke</a></li>
<li><a href="8.1-phenotype-outcomes.html#stroke" id="toc-stroke"><span class="toc-section-number">8.1.6</span> Stroke</a></li>
<li><a href="8.1-phenotype-outcomes.html#pci" id="toc-pci"><span class="toc-section-number">8.1.7</span> PCI</a></li>
<li><a href="8.1-phenotype-outcomes.html#cvd-death" id="toc-cvd-death"><span class="toc-section-number">8.1.8</span> CVD death</a></li>
<li><a href="8.1-phenotype-outcomes.html#composite-cvd" id="toc-composite-cvd"><span class="toc-section-number">8.1.9</span> Composite CVD</a></li>
<li><a href="8.1-phenotype-outcomes.html#dr" id="toc-dr"><span class="toc-section-number">8.1.10</span> DR</a></li>
<li><a href="8.1-phenotype-outcomes.html#dkd" id="toc-dkd"><span class="toc-section-number">8.1.11</span> DKD</a></li>
</ul></li>
<li><a href="8.2-phenotype-control-exclusion-events.html#phenotype-control-exclusion-events" id="toc-phenotype-control-exclusion-events"><span class="toc-section-number">8.2</span> Phenotype control exclusion events</a>
<ul>
<li><a href="8.2-phenotype-control-exclusion-events.html#cardiovascular-control-exclusion-events" id="toc-cardiovascular-control-exclusion-events"><span class="toc-section-number">8.2.1</span> Cardiovascular control exclusion events</a></li>
<li><a href="8.2-phenotype-control-exclusion-events.html#cerebrovascular-control-exclusion-events" id="toc-cerebrovascular-control-exclusion-events"><span class="toc-section-number">8.2.2</span> Cerebrovascular control exclusion events</a></li>
<li><a href="8.2-phenotype-control-exclusion-events.html#non-coronary-revascularization-procedure-control-exclusion-events" id="toc-non-coronary-revascularization-procedure-control-exclusion-events"><span class="toc-section-number">8.2.3</span> Non-coronary revascularization procedure control exclusion events</a></li>
<li><a href="8.2-phenotype-control-exclusion-events.html#renal-disease-control-exclusion-events" id="toc-renal-disease-control-exclusion-events"><span class="toc-section-number">8.2.4</span> Renal disease control exclusion events</a></li>
<li><a href="8.2-phenotype-control-exclusion-events.html#eye-disease-control-exclusion-events" id="toc-eye-disease-control-exclusion-events"><span class="toc-section-number">8.2.5</span> Eye disease control exclusion events</a></li>
</ul></li>
</ul></li>
<li><a href="9-phenotype-outcomes-pcp.html#phenotype-outcomes-pcp" id="toc-phenotype-outcomes-pcp"><span class="toc-section-number">9</span> Phenotype outcomes using primary care data</a>
<ul>
<li><a href="9.1-phenotype-outcome-events.html#phenotype-outcome-events" id="toc-phenotype-outcome-events"><span class="toc-section-number">9.1</span> Phenotype outcome events</a>
<ul>
<li><a href="9.1-phenotype-outcome-events.html#dm-1" id="toc-dm-1"><span class="toc-section-number">9.1.1</span> DM</a></li>
<li><a href="9.1-phenotype-outcome-events.html#dr-1" id="toc-dr-1"><span class="toc-section-number">9.1.2</span> DR</a></li>
<li><a href="9.1-phenotype-outcome-events.html#dkd-1" id="toc-dkd-1"><span class="toc-section-number">9.1.3</span> DKD</a></li>
</ul></li>
<li><a href="9.2-phenotype-control-exclusion-events-1.html#phenotype-control-exclusion-events-1" id="toc-phenotype-control-exclusion-events-1"><span class="toc-section-number">9.2</span> Phenotype control exclusion events</a>
<ul>
<li><a href="9.2-phenotype-control-exclusion-events-1.html#non-diabetic-eye-disease-events" id="toc-non-diabetic-eye-disease-events"><span class="toc-section-number">9.2.1</span> Non-diabetic eye disease events</a></li>
<li><a href="9.2-phenotype-control-exclusion-events-1.html#kidney-disease-control-exclusion-events" id="toc-kidney-disease-control-exclusion-events"><span class="toc-section-number">9.2.2</span> Kidney disease control exclusion events</a></li>
</ul></li>
</ul></li>
<li><a href="10-traj-ukb.html#traj-ukb" id="toc-traj-ukb"><span class="toc-section-number">10</span> Create biomarker trajectory data from UK biobank assessment center data</a></li>
<li><a href="11-traj-pcp.html#traj-pcp" id="toc-traj-pcp"><span class="toc-section-number">11</span> Create biomarker trajectory data from primary care data</a>
<ul>
<li><a href="11.1-total-cholesterol.html#total-cholesterol" id="toc-total-cholesterol"><span class="toc-section-number">11.1</span> Total cholesterol</a></li>
<li><a href="11.2-hdl.html#hdl" id="toc-hdl"><span class="toc-section-number">11.2</span> HDL</a></li>
<li><a href="11.3-ldl.html#ldl" id="toc-ldl"><span class="toc-section-number">11.3</span> LDL</a></li>
<li><a href="11.4-triglycerides.html#triglycerides" id="toc-triglycerides"><span class="toc-section-number">11.4</span> Triglycerides</a></li>
<li><a href="11.5-fasting-glucose.html#fasting-glucose" id="toc-fasting-glucose"><span class="toc-section-number">11.5</span> Fasting Glucose</a></li>
<li><a href="11.6-random-glucose.html#random-glucose" id="toc-random-glucose"><span class="toc-section-number">11.6</span> Random glucose</a></li>
<li><a href="11.7-urine-albumin.html#urine-albumin" id="toc-urine-albumin"><span class="toc-section-number">11.7</span> Urine Albumin</a></li>
<li><a href="11.8-urine-creatinine.html#urine-creatinine" id="toc-urine-creatinine"><span class="toc-section-number">11.8</span> Urine creatinine</a></li>
<li><a href="11.9-urine-acr-albumincreatinine-ratio.html#urine-acr-albumincreatinine-ratio" id="toc-urine-acr-albumincreatinine-ratio"><span class="toc-section-number">11.9</span> Urine ACR (Albumin:Creatinine Ratio)</a></li>
<li><a href="11.10-bloodserum-creatinine.html#bloodserum-creatinine" id="toc-bloodserum-creatinine"><span class="toc-section-number">11.10</span> Blood/Serum creatinine</a></li>
<li><a href="11.11-hba1c.html#hba1c" id="toc-hba1c"><span class="toc-section-number">11.11</span> HbA1c</a></li>
<li><a href="11.12-bmi.html#bmi" id="toc-bmi"><span class="toc-section-number">11.12</span> BMI</a></li>
<li><a href="11.13-blood-pressure.html#blood-pressure" id="toc-blood-pressure"><span class="toc-section-number">11.13</span> Blood Pressure</a></li>
<li><a href="11.14-reformat-and-trim-trajectory-table-for-each-biomarker.html#reformat-and-trim-trajectory-table-for-each-biomarker" id="toc-reformat-and-trim-trajectory-table-for-each-biomarker"><span class="toc-section-number">11.14</span> Reformat and trim trajectory table for each biomarker</a></li>
</ul></li>
<li><a href="12-traj-combine.html#traj-combine" id="toc-traj-combine"><span class="toc-section-number">12</span> Combine biomarker trajectory extracted from from UKB and PCP data</a></li>
<li><a href="13-phenotype-outcome-combine.html#phenotype-outcome-combine" id="toc-phenotype-outcome-combine"><span class="toc-section-number">13</span> Phenotype outcomes using combination of tables</a></li>
<li><a href="14-tte-macro.html#tte-macro" id="toc-tte-macro"><span class="toc-section-number">14</span> Generate time-to-event data for macrovascular diabetes complications</a></li>
<li><a href="15-tte-dr.html#tte-dr" id="toc-tte-dr"><span class="toc-section-number">15</span> Generate time-to-event data for diabetic eye disease</a></li>
<li><a href="16-tte-dkd.html#tte-dkd" id="toc-tte-dkd"><span class="toc-section-number">16</span> Generate time-to-event data for diabetes related kidney disease</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">UK Biobank Phenotyping</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="prepare-diabetes-code-dictionary" class="section level2" number="7.1">
<h2><span class="header-section-number">7.1</span> Prepare diabetes code dictionary</h2>
<div id="define-keywords" class="section level3" number="7.1.1">
<h3><span class="header-section-number">7.1.1</span> Define keywords</h3>
<p>Define diabetes specific exclusion keywords.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb75-1" aria-hidden="true" tabindex="-1"></a>dm_specific_exclusion_keyword_patterns <span class="ot">&lt;-</span> <span class="st">&quot;|serum|antibody|remission|relative|association member|high risk of diabetes|suspected diabetes|non-diabetes|breath test|questionnaire|risk score|category score|risk calculator|inhibitor function|C-peptide level|factor binding protein 3|stress test|Insulin tolerance test|Urine screening test|X-ray|NHS Diabetes Prevention|Provision of diabetes clinical summary|diabetes mellitus screen|leaflet given|declined|C1-esterase|pituitary|helicobacter|ineligible|invite|invitation|insulinoma|steroid|secondary diabetes|pre-diabet|prediabet|insipid|provision of written information|not required|national audit|diabetes screen|renal diabetes|non-diabet|^diabetic nurse$|^Diabetic liaison nurse$|jamaica|secondary pancreatic diabetes|driving|neonatal|Addison|PABA test|growth factor|Plasma insulin level|key contact|eligibiliby|CHA2DS2|Professional judgement|Diabetes mellitus: no|non diabetic|information prescription|mother has|preg.|bronzed|Diabetes dietitian|Urine Ketone Test|deleted|refuse|gastropathy|pneumon|Frequency of hypoglycaem|^insulin level$|drug-induced|drug induced|hyperglyceridaemia&quot;</span></span></code></pre></div>
<p>Define diabetes exclusion keywords.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb76-1" aria-hidden="true" tabindex="-1"></a>dm_exclusion_keyword_patterns <span class="ot">&lt;-</span> <span class="fu">paste0</span>(global_exclusion_keyword_patterns,dm_specific_exclusion_keyword_patterns)</span></code></pre></div>
<p>Define inclusion keywords.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb77-1" aria-hidden="true" tabindex="-1"></a>dm_inclusion_keyword_patterns <span class="ot">&lt;-</span> <span class="st">&quot;diabetic|diabetes|diabeto|insulin|hyperglyc|hypoglyc|glycemic control&quot;</span></span></code></pre></div>
</div>
<div id="define-codes" class="section level3" number="7.1.2">
<h3><span class="header-section-number">7.1.2</span> Define codes</h3>
<p>Define diabetes exclusion codes.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb78-1" aria-hidden="true" tabindex="-1"></a>dm_exclusion_codes <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ZV653&quot;</span>, <span class="st">&quot;C3760&quot;</span>, <span class="st">&quot;J4z0&quot;</span>, <span class="st">&quot;Y3045&quot;</span>, <span class="st">&quot;7L1L2&quot;</span>, <span class="st">&quot;Y0015&quot;</span>, <span class="st">&quot;X789v&quot;</span>, <span class="st">&quot;Y7ITk&quot;</span>, <span class="st">&quot;Y2200&quot;</span>, <span class="st">&quot;42c..&quot;</span>, <span class="st">&quot;42W..&quot;</span>, <span class="st">&quot;42WZ.&quot;</span>,<span class="st">&quot;66Ae.&quot;</span>, <span class="st">&quot;66Ae0&quot;</span>,<span class="st">&quot;66AF.&quot;</span>,<span class="st">&quot;C1…&quot;</span>,<span class="st">&quot;XaCET&quot;</span>,<span class="st">&quot;XaCEU&quot;</span>, <span class="st">&quot;XaCEV&quot;</span>)</span>
<span id="cb78-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb78-2" aria-hidden="true" tabindex="-1"></a>dm_exclusion_code_patterns <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;^42W&quot;</span>,<span class="st">&quot;^42c&quot;</span>),<span class="at">collapse =</span> <span class="st">&#39;|&#39;</span>)</span></code></pre></div>
<p>Import diabetes code lists.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-1" aria-hidden="true" tabindex="-1"></a>dm_codelist <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/opensafely-diabetes-2020-04-15.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/opensafely-type-1-diabetes-2020-06-29.csv&quot;</span>) </span>
<span id="cb79-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-3" aria-hidden="true" tabindex="-1"></a>            <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Category=</span><span class="dv">1</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/opensafely-type-2-diabetes-2020-06-29.csv&quot;</span>) </span>
<span id="cb79-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-5" aria-hidden="true" tabindex="-1"></a>            <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Category=</span><span class="dv">2</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-6"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(<span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/opensafely-diabetes-exeter-group-2020-07-06.csv&quot;</span>) </span>
<span id="cb79-7"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-7" aria-hidden="true" tabindex="-1"></a>            <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">CTV3PreferredTermDesc =</span> ctvterm)) <span class="sc">%&gt;%</span></span>
<span id="cb79-8"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">term_description =</span> CTV3PreferredTermDesc) <span class="sc">%&gt;%</span></span>
<span id="cb79-9"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-9" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">code =</span> CTV3ID) <span class="sc">%&gt;%</span></span>
<span id="cb79-10"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Category =</span> <span class="fu">as.character</span>(Category)) <span class="sc">%&gt;%</span></span>
<span id="cb79-11"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(</span>
<span id="cb79-12"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/read_diabetescomplications_caliber.txt&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-13"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">full_join</span>(<span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/read_diabetes_expanded_caliber.txt&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-14"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">full_join</span>(<span class="fu">fread</span>(<span class="st">&quot;raw_data/dm_code_lists/read_diabetes_caliber.txt&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-15"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-15" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">code =</span> Clinical_code) <span class="sc">%&gt;%</span></span>
<span id="cb79-16"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-16" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">term_description =</span> Clinical_term) <span class="sc">%&gt;%</span></span>
<span id="cb79-17"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-17" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">Category =</span> <span class="st">`</span><span class="at">Category_(code)</span><span class="st">`</span>)</span>
<span id="cb79-18"><a href="7.1-prepare-diabetes-code-dictionary.html#cb79-18" aria-hidden="true" tabindex="-1"></a>    )</span></code></pre></div>
<p>Define inclusion codes.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb80-1" aria-hidden="true" tabindex="-1"></a>dm_inclusion_codes <span class="ot">&lt;-</span> dm_codelist<span class="sc">$</span>code</span></code></pre></div>
<p>Define additional diabetes code patterns.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb81-1" aria-hidden="true" tabindex="-1"></a>dm_inclusion_code_patterns <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">c</span>(<span class="st">&quot;^66A&quot;</span>,<span class="st">&quot;^C10&quot;</span>,<span class="st">&quot;^F420&quot;</span>),<span class="at">collapse =</span> <span class="st">&#39;|&#39;</span>)</span></code></pre></div>
</div>
<div id="create-diabetes-code-dictionary" class="section level3" number="7.1.3">
<h3><span class="header-section-number">7.1.3</span> Create diabetes code dictionary</h3>
<p>Create diabetes code dictionary.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-1" aria-hidden="true" tabindex="-1"></a>dm_dict <span class="ot">&lt;-</span> full_dict <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">grepl</span>(dm_inclusion_keyword_patterns, term_description, <span class="at">ignore.case =</span> T)<span class="sc">|</span></span>
<span id="cb82-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-3" aria-hidden="true" tabindex="-1"></a>           code <span class="sc">%in%</span> dm_inclusion_codes<span class="sc">|</span></span>
<span id="cb82-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-4" aria-hidden="true" tabindex="-1"></a>           <span class="fu">grepl</span>(dm_inclusion_code_patterns, code)) <span class="sc">%&gt;%</span></span>
<span id="cb82-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(dm_exclusion_keyword_patterns, term_description, <span class="at">ignore.case =</span> T),</span>
<span id="cb82-6"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-6" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>(code <span class="sc">%in%</span> dm_exclusion_codes),</span>
<span id="cb82-7"><a href="7.1-prepare-diabetes-code-dictionary.html#cb82-7" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span><span class="fu">grepl</span>(dm_exclusion_code_patterns, code))</span></code></pre></div>
<p>We want to filter outcome-specific dictionaries to only those codes that actually occur in the primary care data, to expedite review of the terms that we include.
First, read in the distinct terms in PC data.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb83-1" aria-hidden="true" tabindex="-1"></a>terms_actual <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">&quot;generated_data/entire_gp_clinical_30March2021_formatted.txt&quot;</span>, </span>
<span id="cb83-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb83-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">select =</span> <span class="st">&quot;code&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb83-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code></pre></div>
<p>Now, filter the DM dictionary to terms that exist in the PC data.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-1" aria-hidden="true" tabindex="-1"></a>dm_dict_actual <span class="ot">&lt;-</span> dm_dict <span class="sc">%&gt;%</span> </span>
<span id="cb84-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(code <span class="sc">%in%</span> terms_actual<span class="sc">$</span>code) </span>
<span id="cb84-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-4" aria-hidden="true" tabindex="-1"></a>dm_dict_review <span class="ot">&lt;-</span> dm_dict_actual <span class="sc">%&gt;%</span> </span>
<span id="cb84-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(code, term_description) <span class="sc">%&gt;%</span> </span>
<span id="cb84-6"><a href="7.1-prepare-diabetes-code-dictionary.html#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(code, <span class="at">.keep_all =</span> T) </span></code></pre></div>
<p>Now, map the Read v2 terms in the dictionary to CTV3, and vice versa, to make sure we capture equivalent terms. The term mappings are provided by UKB in Resource 592.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-1" aria-hidden="true" tabindex="-1"></a>map23 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;raw_data/all_lkps_maps_v3.xlsx&quot;</span>, <span class="at">sheet=</span><span class="dv">14</span>) </span>
<span id="cb85-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-2" aria-hidden="true" tabindex="-1"></a>map32 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">&quot;raw_data/all_lkps_maps_v3.xlsx&quot;</span>, <span class="at">sheet=</span><span class="dv">19</span>) </span>
<span id="cb85-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-3" aria-hidden="true" tabindex="-1"></a>read_map <span class="ot">&lt;-</span> map32 <span class="sc">%&gt;%</span></span>
<span id="cb85-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(READV3_CODE, READV2_CODE, IS_ASSURED) <span class="sc">%&gt;%</span></span>
<span id="cb85-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(IS_ASSURED <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-6"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">code =</span> READV3_CODE, <span class="at">mapped_code =</span> READV2_CODE) <span class="sc">%&gt;%</span></span>
<span id="cb85-7"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">terminology =</span> <span class="st">&quot;read3&quot;</span>, <span class="at">mapped_terminology=</span><span class="st">&quot;read2&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb85-8"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>IS_ASSURED) <span class="sc">%&gt;%</span></span>
<span id="cb85-9"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rbind</span>(</span>
<span id="cb85-10"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-10" aria-hidden="true" tabindex="-1"></a>    map23 <span class="sc">%&gt;%</span> <span class="fu">select</span>(READV2_CODE, READV3_CODE) <span class="sc">%&gt;%</span></span>
<span id="cb85-11"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-11" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">code =</span> READV2_CODE, <span class="at">mapped_code =</span> READV3_CODE) <span class="sc">%&gt;%</span></span>
<span id="cb85-12"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">terminology =</span> <span class="st">&quot;read2&quot;</span>, <span class="at">mapped_terminology =</span><span class="st">&quot;read3&quot;</span>)</span>
<span id="cb85-13"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb85-14"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb85-15"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(code <span class="sc">!=</span> mapped_code) <span class="sc">%&gt;%</span></span>
<span id="cb85-16"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">.&quot;</span>, mapped_code) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">.&quot;</span>, code)) <span class="sc">%&gt;%</span> <span class="co">#remove very broad mappings</span></span>
<span id="cb85-17"><a href="7.1-prepare-diabetes-code-dictionary.html#cb85-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(code <span class="sc">%in%</span> terms_actual<span class="sc">$</span>code <span class="sc">&amp;</span> mapped_code <span class="sc">%in%</span> terms_actual<span class="sc">$</span>code) <span class="co">#Only keep pairs that exist in gp_clinical</span></span></code></pre></div>
<p>Get any additional mapped codes to include in the DM dictionary.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-1" aria-hidden="true" tabindex="-1"></a>dm_terms_map <span class="ot">&lt;-</span> <span class="fu">left_join</span>(dm_dict_actual, read_map) <span class="sc">%&gt;%</span></span>
<span id="cb86-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(mapped_code)) <span class="sc">%&gt;%</span></span>
<span id="cb86-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(mapped_code <span class="sc">%in%</span> dm_dict<span class="sc">$</span>code)) <span class="sc">%&gt;%</span></span>
<span id="cb86-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(code) <span class="sc">%&gt;%</span></span>
<span id="cb86-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>terminology_note) <span class="sc">%&gt;%</span></span>
<span id="cb86-6"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(full_dict <span class="sc">%&gt;%</span></span>
<span id="cb86-7"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-7" aria-hidden="true" tabindex="-1"></a>              dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">mapped_code =</span> code, <span class="at">mapped_description =</span> term_description,</span>
<span id="cb86-8"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-8" aria-hidden="true" tabindex="-1"></a>                            <span class="at">mapped_terminology=</span>terminology)) <span class="sc">%&gt;%</span></span>
<span id="cb86-9"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(mapped_code) <span class="sc">%&gt;%</span></span>
<span id="cb86-10"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb86-11"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span></span>
<span id="cb86-12"><a href="7.1-prepare-diabetes-code-dictionary.html#cb86-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">grepl</span>(<span class="st">&quot;[Dd]rug induced&quot;</span>, mapped_description)))</span></code></pre></div>
<p>Combine the new terms with the original DM dictionary.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb87-1" aria-hidden="true" tabindex="-1"></a>dm_dict_final <span class="ot">&lt;-</span> <span class="fu">rbind</span>(dm_dict_actual,</span>
<span id="cb87-2"><a href="7.1-prepare-diabetes-code-dictionary.html#cb87-2" aria-hidden="true" tabindex="-1"></a>                 dm_terms_map <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="7.1-prepare-diabetes-code-dictionary.html#cb87-3" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">select</span>(<span class="at">code =</span> mapped_code, <span class="at">term_description =</span> mapped_description, </span>
<span id="cb87-4"><a href="7.1-prepare-diabetes-code-dictionary.html#cb87-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">terminology =</span> mapped_terminology, terminology_note)</span>
<span id="cb87-5"><a href="7.1-prepare-diabetes-code-dictionary.html#cb87-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>Save diabetes code dictionary.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="7.1-prepare-diabetes-code-dictionary.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(dm_dict_final,<span class="st">&quot;generated_data/dm_dict.RDS&quot;</span>)</span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="7-make-outcome-specific-code-dictionary.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="7.2-prepare-diabetic-eye-disease-code-dictionary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
